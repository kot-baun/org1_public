<template>
	<lightning-card onclick={handleClick} title="Maintenance records">
		<div>
			<lightning-button
				label="New"
				title="new record"
				onclick={handleShowNewDialog}
				hidden={showNew}
				slot="title"
				class="slds-p-horizontal_small"
			></lightning-button>
		</div>
		<template if:true={showNew}>
			<lightning-record-edit-form object-api-name={objectApiName} onsuccess={handleMaintenanceCreation}>
				<lightning-messages> </lightning-messages>
				<lightning-input-field field-name="Maintenance_from_date__c" required="true"> </lightning-input-field>
				<lightning-input-field field-name="Maintenance_Service__c" required="true"> </lightning-input-field>
				<lightning-input-field field-name="Vehicle__c" value={vehicleId} disabled="true">
				</lightning-input-field>
				<lightning-button class="slds-m-top_small" type="submit" label="Create new"> </lightning-button>
				<lightning-button label="Cancel" title="cansel" onclick={handleShowNewDialog}></lightning-button>
			</lightning-record-edit-form>
		</template>

		<!-- ************************************************************** -->
		<c-maintenance-edit
			label="Edit"
			vehicle-id={vehicleId}
			maintenance-id={maintenanceId}
			onupdate={handleUpdate}
		></c-maintenance-edit>
		<!-- ************************************************************** -->

		<div>
			<template if:true={maintenances}> maintenance exist </template>
			<lightning-button></lightning-button>
			<template if:true={maintenances}>
				<lightning-datatable key-field="Id" data={maintenances} columns={columns} onrowaction={handleRowAction}>
				</lightning-datatable>
			</template>
		</div>
	</lightning-card>
</template>
